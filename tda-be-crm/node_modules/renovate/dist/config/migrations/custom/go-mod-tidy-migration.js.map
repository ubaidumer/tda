{"version":3,"file":"go-mod-tidy-migration.js","sourceRoot":"","sources":["../../../../lib/config/migrations/custom/go-mod-tidy-migration.ts"],"names":[],"mappings":";;;AACA,mEAA+D;AAE/D,MAAa,kBAAmB,SAAQ,sCAAiB;IACvD,YAAY,cAA8B,EAAE,cAA8B;QACxE,KAAK,CAAC,WAAW,EAAE,cAAc,EAAE,cAAc,CAAC,CAAC;IACrD,CAAC;IAEQ,GAAG;;;QACV,MAAM,EAAE,SAAS,EAAE,iBAAiB,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC;QAE7D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAE/B,IAAI,SAAS,EAAE;YACb,YAAA,IAAI,CAAC,cAAc,EAAC,iBAAiB,uCAAjB,iBAAiB,GAAK,iBAAiB,aAAjB,iBAAiB,cAAjB,iBAAiB,GAAI,EAAE,EAAC;YAClE,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACzD;IACH,CAAC;CACF;AAfD,gDAeC","sourcesContent":["import type { RenovateConfig } from '../../types';\nimport { AbstractMigration } from '../base/abstract-migration';\n\nexport class GoModTidyMigration extends AbstractMigration {\n  constructor(originalConfig: RenovateConfig, migratedConfig: RenovateConfig) {\n    super('gomodTidy', originalConfig, migratedConfig);\n  }\n\n  override run(): void {\n    const { gomodTidy, postUpdateOptions } = this.originalConfig;\n\n    this.delete(this.propertyName);\n\n    if (gomodTidy) {\n      this.migratedConfig.postUpdateOptions ??= postUpdateOptions ?? [];\n      this.migratedConfig.postUpdateOptions.push('gomodTidy');\n    }\n  }\n}\n"]}