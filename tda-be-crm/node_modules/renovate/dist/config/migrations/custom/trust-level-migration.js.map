{"version":3,"file":"trust-level-migration.js","sourceRoot":"","sources":["../../../../lib/config/migrations/custom/trust-level-migration.ts"],"names":[],"mappings":";;;AACA,mEAA+D;AAE/D,MAAa,mBAAoB,SAAQ,sCAAiB;IACxD,YAAY,cAA8B,EAAE,cAA8B;QACxE,KAAK,CAAC,YAAY,EAAE,cAAc,EAAE,cAAc,CAAC,CAAC;IACtD,CAAC;IAEQ,GAAG;;QACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAE/B,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,KAAK,MAAM,EAAE;YAC7C,IAAI,CAAC,cAAc,CAAC,0BAA0B;gBAC5C,MAAA,IAAI,CAAC,cAAc,CAAC,0BAA0B,mCAAI,IAAI,CAAC;YACzD,IAAI,CAAC,cAAc,CAAC,YAAY;gBAC9B,MAAA,IAAI,CAAC,cAAc,CAAC,YAAY,mCAAI,IAAI,CAAC;YAC3C,IAAI,CAAC,cAAc,CAAC,YAAY;gBAC9B,MAAA,IAAI,CAAC,cAAc,CAAC,YAAY,mCAAI,IAAI,CAAC;SAC5C;IACH,CAAC;CACF;AAjBD,kDAiBC","sourcesContent":["import type { RenovateConfig } from '../../types';\nimport { AbstractMigration } from '../base/abstract-migration';\n\nexport class TrustLevelMigration extends AbstractMigration {\n  constructor(originalConfig: RenovateConfig, migratedConfig: RenovateConfig) {\n    super('trustLevel', originalConfig, migratedConfig);\n  }\n\n  override run(): void {\n    this.delete(this.propertyName);\n\n    if (this.originalConfig.trustLevel === 'high') {\n      this.migratedConfig.allowCustomCrateRegistries =\n        this.originalConfig.allowCustomCrateRegistries ?? true;\n      this.migratedConfig.allowScripts =\n        this.originalConfig.allowScripts ?? true;\n      this.migratedConfig.exposeAllEnv =\n        this.originalConfig.exposeAllEnv ?? true;\n    }\n  }\n}\n"]}