"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TrustLevelMigration = void 0;
const abstract_migration_1 = require("../base/abstract-migration");
class TrustLevelMigration extends abstract_migration_1.AbstractMigration {
    constructor(originalConfig, migratedConfig) {
        super('trustLevel', originalConfig, migratedConfig);
    }
    run() {
        var _a, _b, _c;
        this.delete(this.propertyName);
        if (this.originalConfig.trustLevel === 'high') {
            this.migratedConfig.allowCustomCrateRegistries =
                (_a = this.originalConfig.allowCustomCrateRegistries) !== null && _a !== void 0 ? _a : true;
            this.migratedConfig.allowScripts =
                (_b = this.originalConfig.allowScripts) !== null && _b !== void 0 ? _b : true;
            this.migratedConfig.exposeAllEnv =
                (_c = this.originalConfig.exposeAllEnv) !== null && _c !== void 0 ? _c : true;
        }
    }
}
exports.TrustLevelMigration = TrustLevelMigration;
//# sourceMappingURL=trust-level-migration.js.map