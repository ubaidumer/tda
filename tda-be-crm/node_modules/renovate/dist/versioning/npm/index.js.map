{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../lib/versioning/npm/index.ts"],"names":[],"mappings":";;;;AAAA,4DAAiC;AACjC,iDAA+C;AAE/C,mCAAsC;AAEzB,QAAA,EAAE,GAAG,KAAK,CAAC;AACX,QAAA,WAAW,GAAG,KAAK,CAAC;AACpB,QAAA,IAAI,GAAG;IAClB,qBAAqB;IACrB,sCAAsC;IACtC,kDAAkD;IAClD,2BAA2B;CAC5B,CAAC;AACW,QAAA,cAAc,GAAG,IAAI,CAAC;AACtB,QAAA,wBAAwB,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;AAE7E,MAAM,EACJ,OAAO,EAAE,YAAY,EACrB,aAAa,EAAE,oBAAoB,EACnC,aAAa,EAAE,oBAAoB,EACnC,KAAK,EAAE,QAAQ,EACf,KAAK,EAAE,QAAQ,EACf,KAAK,EAAE,QAAQ,EACf,SAAS,EAAE,OAAO,EAClB,KAAK,EACL,UAAU,EACV,GAAG,EAAE,eAAe,EACpB,EAAE,EAAE,aAAa,EACjB,EAAE,EAAE,MAAM,GACX,GAAG,MAAM,CAAC;AAEX,kEAAkE;AAC3D,MAAM,OAAO,GAAG,CAAC,KAAa,EAAU,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAAvD,QAAA,OAAO,WAAgD;AAC7D,MAAM,SAAS,GAAG,CAAC,KAAa,EAAU,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAApD,QAAA,SAAS,aAA2C;AAEjE,MAAM,eAAe,GAAG,CAAC,UAAkB,EAAU,EAAE,CACrD,IAAA,iBAAS,EAAC,UAAU,CAAC;IACrB,CAAC,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,UAAU,CAAC,GAAG,CAAC,KAAI,IAAA,iBAAS,EAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAEhE,QAAA,GAAG,GAAkB;IAChC,MAAM;IACN,QAAQ;IACR,QAAQ;IACR,WAAW,EAAX,mBAAW;IACX,QAAQ;IACR,YAAY,EAAE,iBAAS;IACvB,aAAa;IACb,eAAe;IACf,eAAe;IACf,QAAQ,EAAR,kBAAQ;IACR,OAAO,EAAP,eAAO;IACP,SAAS,EAAT,iBAAS;IACT,OAAO;IACP,oBAAoB;IACpB,oBAAoB;IACpB,YAAY;CACb,CAAC;AAEF,kBAAe,WAAG,CAAC","sourcesContent":["import * as semver from 'semver';\nimport { is as isStable } from 'semver-stable';\nimport type { VersioningApi } from '../types';\nimport { getNewValue } from './range';\n\nexport const id = 'npm';\nexport const displayName = 'npm';\nexport const urls = [\n  'https://semver.org/',\n  'https://www.npmjs.com/package/semver',\n  'https://docs.npmjs.com/about-semantic-versioning',\n  'https://semver.npmjs.com/',\n];\nexport const supportsRanges = true;\nexport const supportedRangeStrategies = ['bump', 'extend', 'pin', 'replace'];\n\nconst {\n  compare: sortVersions,\n  maxSatisfying: getSatisfyingVersion,\n  minSatisfying: minSatisfyingVersion,\n  major: getMajor,\n  minor: getMinor,\n  patch: getPatch,\n  satisfies: matches,\n  valid,\n  validRange,\n  ltr: isLessThanRange,\n  gt: isGreaterThan,\n  eq: equals,\n} = semver;\n\n// If this is left as an alias, inputs like \"17.04.0\" throw errors\nexport const isValid = (input: string): string => validRange(input);\nexport const isVersion = (input: string): string => valid(input);\n\nconst isSingleVersion = (constraint: string): string =>\n  isVersion(constraint) ||\n  (constraint?.startsWith('=') && isVersion(constraint.substring(1).trim()));\n\nexport const api: VersioningApi = {\n  equals,\n  getMajor,\n  getMinor,\n  getNewValue,\n  getPatch,\n  isCompatible: isVersion,\n  isGreaterThan,\n  isLessThanRange,\n  isSingleVersion,\n  isStable,\n  isValid,\n  isVersion,\n  matches,\n  getSatisfyingVersion,\n  minSatisfyingVersion,\n  sortVersions,\n};\n\nexport default api;\n"]}