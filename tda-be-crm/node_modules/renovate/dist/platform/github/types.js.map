{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../lib/platform/github/types.ts"],"names":[],"mappings":"","sourcesContent":["import { Pr } from '../types';\n\n// https://developer.github.com/v3/repos/statuses\n// https://developer.github.com/v3/checks/runs/\nexport type CombinedBranchState = 'failure' | 'pending' | 'success';\nexport type BranchState = 'failure' | 'pending' | 'success' | 'error';\n\nexport interface GhBranchStatus {\n  context: string;\n  state: BranchState;\n}\n\nexport interface CombinedBranchStatus {\n  state: CombinedBranchState;\n  statuses: GhBranchStatus[];\n}\n\nexport interface Comment {\n  id: number;\n  body: string;\n}\n\nexport interface GhPr extends Pr {\n  comments: Comment[];\n  mergeable: boolean;\n}\n\nexport interface GhRestPr extends GhPr {\n  head: {\n    ref: string;\n    sha: string;\n    repo: { full_name: string };\n  };\n  mergeable_state: string;\n  number: number;\n  title: string;\n  state: string;\n  merged_at: string;\n  created_at: string;\n  closed_at: string;\n  user?: { login?: string };\n  node_id: string;\n}\n\nexport interface GhGraphQlPr extends GhPr {\n  commits: any;\n  reviewRequests: any;\n  assignees: any;\n  mergeStateStatus: string;\n  reviews: any;\n  baseRefName: string;\n  headRefName: string;\n  comments: Comment[] & { nodes?: { databaseId: number; body: string }[] };\n  labels: string[] & { nodes?: { name: string }[] };\n}\n\nexport interface PlatformConfig {\n  hostType: string;\n  endpoint: string;\n  isGhe?: boolean;\n  gheVersion?: string | null;\n}\n\nexport interface LocalRepoConfig {\n  repositoryName: string;\n  pushProtection: boolean;\n  prReviewsRequired: boolean;\n  repoForceRebase?: boolean;\n  parentRepo: string;\n  forkMode?: boolean;\n  forkToken?: string;\n  closedPrList: PrList | null;\n  openPrList: PrList | null;\n  prList: GhPr[] | null;\n  issueList: any[] | null;\n  mergeMethod: 'rebase' | 'squash' | 'merge';\n  defaultBranch: string;\n  repositoryOwner: string;\n  repository: string | null;\n  renovateUsername: string;\n  productLinks: any;\n  ignorePrAuthor: boolean;\n  branchPrs: Pr[];\n  autoMergeAllowed: boolean;\n  hasIssuesEnabled: boolean;\n}\n\nexport type BranchProtection = any;\nexport type PrList = Record<number, GhPr>;\n\nexport interface GhRepo {\n  isFork: boolean;\n  isArchived: boolean;\n  nameWithOwner: string;\n  autoMergeAllowed: boolean;\n  hasIssuesEnabled: boolean;\n  mergeCommitAllowed: boolean;\n  rebaseMergeAllowed: boolean;\n  squashMergeAllowed: boolean;\n  defaultBranchRef: {\n    name: string;\n    target: {\n      oid: string;\n    };\n  };\n}\n\nexport interface GhAutomergeResponse {\n  enablePullRequestAutoMerge: {\n    pullRequest: { number: number };\n  };\n}\n"]}