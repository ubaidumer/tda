{"version":3,"file":"types.js","sourceRoot":"","sources":["../../lib/datasource/types.ts"],"names":[],"mappings":"","sourcesContent":["export interface Config {\n  datasource?: string;\n  depName?: string;\n  lookupName?: string;\n  registryUrls?: string[];\n}\n\nexport interface DigestConfig extends Config {\n  registryUrl?: string;\n  currentValue?: string;\n  currentDigest?: string;\n}\n\nexport interface ReleasesConfigBase {\n  npmrc?: string;\n  registryUrls?: string[];\n}\n\nexport interface GetReleasesConfig extends ReleasesConfigBase {\n  lookupName: string;\n  registryUrl?: string;\n}\n\nexport interface GetPkgReleasesConfig extends ReleasesConfigBase {\n  datasource: string;\n  depName: string;\n  lookupName?: string;\n  versioning?: string;\n  extractVersion?: string;\n  constraints?: Record<string, string>;\n  replacementName?: string;\n  replacementVersion?: string;\n}\n\nexport interface Release {\n  changelogUrl?: string;\n  checksumUrl?: string;\n  downloadUrl?: string;\n  gitRef?: string;\n  isDeprecated?: boolean;\n  isStable?: boolean;\n  releaseTimestamp?: any;\n  version: string;\n  newDigest?: string;\n  constraints?: Record<string, string[]>;\n  dependencies?: Record<string, string>;\n  devDependencies?: Record<string, string>;\n  registryUrl?: string;\n  sourceUrl?: string;\n  sourceDirectory?: string;\n}\n\nexport interface ReleaseResult {\n  deprecationMessage?: string;\n  isPrivate?: boolean;\n  releases: Release[];\n  tags?: Record<string, string>;\n  // URL metadata\n  changelogUrl?: string;\n  dependencyUrl?: string;\n  homepage?: string;\n  sourceUrl?: string;\n  sourceDirectory?: string;\n  registryUrl?: string;\n  replacementName?: string;\n  replacementVersion?: string;\n}\n\nexport interface DatasourceApi {\n  id: string;\n  getDigest?(config: DigestConfig, newValue?: string): Promise<string | null>;\n  getReleases(config: GetReleasesConfig): Promise<ReleaseResult | null>;\n  defaultRegistryUrls?: string[];\n  defaultVersioning?: string;\n  defaultConfig?: Record<string, unknown>;\n\n  /**\n   * Strategy to use when multiple registryUrls are available to the datasource.\n   * first: only the first registryUrl will be tried and others ignored\n   * hunt: registryUrls will be tried in order until one returns a result\n   * merge: all registryUrls will be tried and the results merged if more than one returns a result\n   */\n  registryStrategy?: 'first' | 'hunt' | 'merge';\n\n  /**\n   * Whether custom registryUrls are allowed.\n   */\n  customRegistrySupport: boolean;\n\n  /**\n   * Whether to perform caching in the datasource index/wrapper or not.\n   * true: datasoure index wrapper should cache all results (based on registryUrl/lookupName)\n   * false: caching is not performed, or performed within the datasource implementation\n   */\n  caching?: boolean;\n}\n"]}