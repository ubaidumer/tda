"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.splitEvery = void 0;
function splitEvery(value, delimiter, numDelimiters) {
    if (numDelimiters <= 0 || !Number.isInteger(numDelimiters)) {
        throw new Error("Invalid number of delimiters (" + numDelimiters + ") for splitEvery.");
    }
    const segments = value.split(delimiter);
    if (numDelimiters === 1) {
        return segments;
    }
    const compoundSegments = [];
    let currentSegment = "";
    for (let i = 0; i < segments.length; i++) {
        if (currentSegment === "") {
            currentSegment = segments[i];
        }
        else {
            currentSegment += delimiter + segments[i];
        }
        if ((i + 1) % numDelimiters === 0) {
            compoundSegments.push(currentSegment);
            currentSegment = "";
        }
    }
    if (currentSegment !== "") {
        compoundSegments.push(currentSegment);
    }
    return compoundSegments;
}
exports.splitEvery = splitEvery;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXQtZXZlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3BsaXQtZXZlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBUUEsU0FBZ0IsVUFBVSxDQUFDLEtBQWEsRUFBRSxTQUFpQixFQUFFLGFBQXFCO0lBRWhGLElBQUksYUFBYSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUU7UUFDMUQsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsR0FBRyxhQUFhLEdBQUcsbUJBQW1CLENBQUMsQ0FBQztLQUN6RjtJQUVELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFeEMsSUFBSSxhQUFhLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBRUQsTUFBTSxnQkFBZ0IsR0FBa0IsRUFBRSxDQUFDO0lBQzNDLElBQUksY0FBYyxHQUFHLEVBQUUsQ0FBQztJQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN4QyxJQUFJLGNBQWMsS0FBSyxFQUFFLEVBQUU7WUFFekIsY0FBYyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM5QjthQUFNO1lBRUwsY0FBYyxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0M7UUFFRCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLGFBQWEsS0FBSyxDQUFDLEVBQUU7WUFFakMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBRXRDLGNBQWMsR0FBRyxFQUFFLENBQUM7U0FDckI7S0FDRjtJQUdELElBQUksY0FBYyxLQUFLLEVBQUUsRUFBRTtRQUN6QixnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7S0FDdkM7SUFFRCxPQUFPLGdCQUFnQixDQUFDO0FBQzFCLENBQUM7QUFyQ0QsZ0NBcUNDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlbiBhbiBpbnB1dCBzdHJpbmcsIHNwbGl0cyBiYXNlZCBvbiB0aGUgZGVsaW1pdGVyIGFmdGVyIGEgZ2l2ZW5cbiAqIG51bWJlciBvZiBkZWxpbWl0ZXJzIGhhcyBiZWVuIGVuY291bnRlcmVkLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgaW5wdXQgc3RyaW5nIHRvIHNwbGl0LlxuICogQHBhcmFtIGRlbGltaXRlciBUaGUgZGVsaW1pdGVyIHRvIHNwbGl0IG9uLlxuICogQHBhcmFtIG51bURlbGltaXRlcnMgVGhlIG51bWJlciBvZiBkZWxpbWl0ZXJzIHRvIGhhdmUgZW5jb3VudGVyZWQgdG8gc3BsaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEV2ZXJ5KHZhbHVlOiBzdHJpbmcsIGRlbGltaXRlcjogc3RyaW5nLCBudW1EZWxpbWl0ZXJzOiBudW1iZXIpOiBBcnJheTxzdHJpbmc+IHtcbiAgLy8gRmFpbCBpZiB3ZSBkb24ndCBoYXZlIGEgY2xlYXIgbnVtYmVyIHRvIHNwbGl0IG9uLlxuICBpZiAobnVtRGVsaW1pdGVycyA8PSAwIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKG51bURlbGltaXRlcnMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgZGVsaW1pdGVycyAoXCIgKyBudW1EZWxpbWl0ZXJzICsgXCIpIGZvciBzcGxpdEV2ZXJ5LlwiKTtcbiAgfVxuXG4gIGNvbnN0IHNlZ21lbnRzID0gdmFsdWUuc3BsaXQoZGVsaW1pdGVyKTtcbiAgLy8gU2hvcnQgY2lyY3VpdCBleHRyYSBsb2dpYyBmb3IgdGhlIHNpbXBsZSBjYXNlLlxuICBpZiAobnVtRGVsaW1pdGVycyA9PT0gMSkge1xuICAgIHJldHVybiBzZWdtZW50cztcbiAgfVxuXG4gIGNvbnN0IGNvbXBvdW5kU2VnbWVudHM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgbGV0IGN1cnJlbnRTZWdtZW50ID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChjdXJyZW50U2VnbWVudCA9PT0gXCJcIikge1xuICAgICAgLy8gU3RhcnQgYSBuZXcgc2VnbWVudC5cbiAgICAgIGN1cnJlbnRTZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbXBvdW5kIHRoZSBjdXJyZW50IHNlZ21lbnQgd2l0aCB0aGUgZGVsaW1pdGVyLlxuICAgICAgY3VycmVudFNlZ21lbnQgKz0gZGVsaW1pdGVyICsgc2VnbWVudHNbaV07XG4gICAgfVxuXG4gICAgaWYgKChpICsgMSkgJSBudW1EZWxpbWl0ZXJzID09PSAwKSB7XG4gICAgICAvLyBXZSBlbmNvdW50ZXJlZCB0aGUgcmlnaHQgbnVtYmVyIG9mIGRlbGltaXRlcnMsIHNvIGFkZCB0aGUgZW50cnkuXG4gICAgICBjb21wb3VuZFNlZ21lbnRzLnB1c2goY3VycmVudFNlZ21lbnQpO1xuICAgICAgLy8gQW5kIHJlc2V0IHRoZSBjdXJyZW50IHNlZ21lbnQuXG4gICAgICBjdXJyZW50U2VnbWVudCA9IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGFueSBsZWZ0b3ZlciBzZWdtZW50IHBvcnRpb24uXG4gIGlmIChjdXJyZW50U2VnbWVudCAhPT0gXCJcIikge1xuICAgIGNvbXBvdW5kU2VnbWVudHMucHVzaChjdXJyZW50U2VnbWVudCk7XG4gIH1cblxuICByZXR1cm4gY29tcG91bmRTZWdtZW50cztcbn1cbiJdfQ==